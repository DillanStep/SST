# SST Node API Environment Configuration
# =========================================
# Copy this file to .env and configure for your server.
# All paths can be customized per-server. Use forward slashes (/) even on Windows.

# =========================================
# SERVER SETTINGS
# =========================================
PORT=3001
HOST=0.0.0.0

# =========================================
# STORAGE BACKEND (Local vs FTP)
# =========================================
# By default the API reads/writes files from the local filesystem.
# For hosted providers (e.g., Nitrado / HostHavoc) you can run the API elsewhere
# and point it at the game server via FTP.
#
# Values: local | ftp | sftp
STORAGE_BACKEND=local

# Optional: host provider config file (recommended for hosted servers)
# Copy apps/api/config/host-providers.example.json to apps/api/config/host-providers.json
# and select a provider via HOST_PROVIDER or the file's "active" field.
# NOTE: apps/api/.gitignore ignores config/host-providers.json by default.
# SST_API_PROVIDER_CONFIG=./config/host-providers.json
# HOST_PROVIDER=my-host

# FTP settings (required when STORAGE_BACKEND=ftp)
# NOTE: Use server paths like './profiles/SST' or '/profiles/SST' in the paths below.
# Do NOT use Windows drive paths (e.g. C:\\...) with FTP backend.
FTP_HOST=
FTP_PORT=21
FTP_USER=
FTP_PASSWORD=

# Set true for FTPS if your provider supports it.
FTP_SECURE=true

# Optional: remote root directory prefix. If you use relative paths like './profiles/SST',
# the API will resolve them under this root.
# Examples:
# FTP_ROOT=/
# FTP_ROOT=/gameservers/myserver
FTP_ROOT=/

# SFTP settings (required when STORAGE_BACKEND=sftp)
SFTP_HOST=
SFTP_PORT=22
SFTP_USER=
SFTP_PASSWORD=

# Optional: remote root directory prefix for SFTP
# If your provider shows an extra top-level prefix folder (common on hosted panels),
# set SFTP_ROOT to that prefix and keep SST_PATH relative.
# Example (HostHavoc-style):
#   Remote file shown in FileZilla: /104.234.251.153_2332/HostHavocDayZServer/SST/api/online_players.json
#   SFTP_ROOT=/104.234.251.153_2332
#   SST_PATH=HostHavocDayZServer/SST
#
# If you set SST_PATH starting with '/', SFTP_ROOT will NOT be applied.
#
# HostHavoc often uses a custom SFTP port (e.g., 8822) - set SFTP_PORT accordingly.
SFTP_ROOT=/

# API Security - set your own key or leave blank to auto-generate on startup
# If blank, SST will generate one on first run AND write it into your .env file.
# Generate your own: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
API_KEY=

# =========================================
# FIRST LAUNCH ADMIN (Optional)
# =========================================
# If you want the API to automatically create an initial admin account on first launch,
# enable this. If disabled, the dashboard will prompt for Initial Setup via /auth/setup.
# NOTE: Set to 0 to use the Setup Wizard in the web dashboard instead.
SST_AUTO_CREATE_ADMIN=0

# Optional: set your own initial credentials. If password is blank and auto-create is enabled,
# SST will generate a strong password and write it into your .env.
INITIAL_ADMIN_USERNAME=
INITIAL_ADMIN_PASSWORD=

# CORS - Set to your dashboard URL for production, or * for any origin
# CORS_ORIGIN=http://localhost:5173

# =========================================
# SST MOD DATA PATHS (Required)
# =========================================
# Base path to your SST mod data folder
# LOCAL backend: you can use OS paths.
# FTP/SFTP backend: use server paths and forward slashes.
SST_PATH=

# Individual paths (optional - defaults to SST_PATH subfolders)
# INVENTORIES_PATH=/path/to/your/DayZ/Server/profiles/SST/inventories
# EVENTS_PATH=/path/to/your/DayZ/Server/profiles/SST/events
# LIFE_EVENTS_PATH=/path/to/your/DayZ/Server/profiles/SST/life_events
# TRADES_PATH=/path/to/your/DayZ/Server/profiles/SST/trades
# API_PATH=/path/to/your/DayZ/Server/profiles/SST/api
# ONLINE_PLAYERS_PATH - defaults to API_PATH/online_players.json if not set

# =========================================
# EXPANSION MOD (Optional)
# =========================================
# Enable DayZ Expansion mod features (market, traders, banking)
# Set to 1 if you're running DayZ Expansion mod, 0 to disable
EXPANSION_ENABLED=0

# Required only if using DayZ Expansion mod for economy features
# EXPANSION_TRADERS_PATH=/path/to/your/DayZ/Server/profiles/ExpansionMod/Traders
# EXPANSION_MARKET_PATH=/path/to/your/DayZ/Server/profiles/ExpansionMod/Market

# =========================================
# MISSION & ECONOMY FILES
# =========================================
# Mission folder - contains db/types.xml, cfgeconomycore.xml, expansion/traderzones/, etc.
# MISSION_PATH=/path/to/your/DayZ/Server/mpmissions/dayzOffline.chernarusplus

# Custom types.xml path - if your types.xml is not in MISSION_PATH/db/types.xml
# TYPES_PATH=/path/to/custom/types.xml

# =========================================
# SERVER PROFILES (for logs)
# =========================================
# PROFILES_PATH=/path/to/your/DayZ/Server/profiles

# =========================================
# POSITION TRACKING
# =========================================
# DATABASE_PATH - SQLite database for position tracking (defaults to SST/data/sst_tracking.db)
# POSITION_TRACKING_INTERVAL - How often to capture positions in milliseconds (default: 30000 = 30 seconds)

# =========================================
# DATA ARCHIVING
# =========================================
# Archives JSON data to SQLite daily and clears files to prevent server slowdown
# ARCHIVE_HOUR - Hour to run daily archive (0-23, default: 4 = 4 AM)
# ARCHIVE_MINUTE - Minute to run daily archive (0-59, default: 0)
# Archives are stored in data/archive.db and can be queried via /archive API endpoints
